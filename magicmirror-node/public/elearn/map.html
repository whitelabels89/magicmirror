<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard Murid</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Baloo 2', sans-serif; }
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
    body {
      background: #e0f2fe;
      font-family: 'Baloo 2', sans-serif;
      display: flex;
    }

    .page-container {
      display: flex;
      width: calc(100% - 60px);
      height: calc(100% - 60px);
      margin: 30px;
      border-radius: 40px;
      overflow: hidden;
      outline: 12px solid #111827;
      outline-offset: 0px;
      position: relative;
    }

    .sidebar {
      background: #111827;
      color: #fff;
      width: 220px;
      display: flex;
      flex-direction: column;
      padding: 20px;
      transition: width 0.3s ease;
      border-radius: 40px 0 0 40px;
      min-height: calc(100vh - 60px);
    }

    .sidebar.collapsed {
      width: 60px;
    }
    .sidebar.collapsed .sidebar-menu span:not(.material-icons) {
      display: none;
    }
    .sidebar.collapsed .sidebar-menu a {
      justify-content: center;
    }

    .toggle-btn {
      background: #374151;
      color: #fff;
      border: none;
      padding: 4px;
      height: 36px;
      border-radius: 10px;
      margin-bottom: 20px;
      cursor: pointer;
      align-self: center;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .sidebar .toggle-btn {
      align-self: center;
    }

    .sidebar:not(.collapsed) .toggle-btn {
      width: 100%;
    }

    .sidebar-menu a {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px;
      color: #e5e7eb;
      text-decoration: none;
      border-radius: 10px;
      margin-bottom: 10px;
      transition: background 0.2s ease;
    }

    .sidebar-menu a:hover {
      background: #1f2937;
    }

    .material-icons.icon-emboss {
      background: #374151;
      padding: 6px;
      border-radius: 8px;
      font-size: 20px;
      box-shadow: inset -2px -2px 4px rgba(255, 255, 255, 0.15),
                  inset 2px 2px 4px rgba(0, 0, 0, 0.25),
                  0 2px 4px rgba(0, 0, 0, 0.4);
    }

    .panel-ungu {
      background: #8b5cf6;
      color: #fff;
      width: 300px;
      padding: 30px;
      border-radius: 0 40px 40px 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      box-shadow: inset 0 0 10px #c084fc;
      min-height: calc(100vh - 60px);
      position: relative;
      transition: width 0.3s ease, padding 0.3s ease;
    }
    .panel-ungu.hidden {
      width: 40px;
      padding: 0;
      overflow: hidden;
      transition: width 0.3s ease, padding 0.3s ease;
    }

    .panel-toggle-btn {
      position: absolute;
      top: 50%;
      right: 5px;
      transform: translateY(-50%);
      width: 30px;
      height: 30px;
      background: #8b5cf6;
      color: #fff;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      transition: transform 0.3s ease;
      z-index: 10;
    }

    .panel-ungu.hidden > *:not(.panel-toggle-btn) {
      display: none;
    }

    .progress-card {
      margin-top: 20px;
    }
    .progress-bar {
      height: 10px;
      background: #e5e7eb;
      border-radius: 20px;
      overflow: hidden;
      margin-top: 6px;
    }
    .progress-bar-fill {
      height: 100%;
      background: #facc15;
      transition: width 0.3s ease;
    }

    .main-content {
      flex: 1;
      background: #fff;
      padding: 30px;
      border-radius: 40px 0 0 40px;
      overflow-y: auto;
      position: relative;
      height: 100vh;
      /* Ensure vertical scroll for main content */
      max-height: 100vh;
    }

    .header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 30px;
    }

    /* Toggle button rotate when hidden */
    .panel-ungu.hidden ~ .main-content .panel-toggle-btn {
      transform: rotate(180deg);
    }
    .status-box {
      display: flex;
      gap: 20px;
    }
    .status-box div {
      background: linear-gradient(to right, #fbbf24, #facc15);
      padding: 10px 16px;
      border-radius: 14px;
      font-size: 15px;
      color: #111827;
      font-weight: bold;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .status-box div::before {
      content: attr(data-icon);
      font-size: 18px;
      margin-right: 4px;
    }

    /* Card Style tetap dipertahankan seperti sebelumnya */
    .game-style-cards {
      display: flex;
      flex-wrap: wrap;
      gap: 24px;
      justify-content: center;
    }

    .lesson-card {
      position: relative;
      background: linear-gradient(to right, #6366f1, #8b5cf6);
      border-radius: 20px;
      box-shadow: 0 10px 20px rgba(0,0,0,0.15);
      padding: 20px;
      width: 280px;
      height: 180px;
      overflow: visible;
      color: #fff;
      text-align: center;
      flex-shrink: 0;
    }

    .reward {
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      z-index: 2;
      filter: drop-shadow(0px 8px 8px rgba(0, 0, 0, 0.3));
    }

    .lesson-number {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 24px;
      font-weight: bold;
      color: rgba(255, 255, 255, 0.25);
    }

    .lesson-card h3 {
      margin-top: 40px;
      margin-bottom: -10px;
      font-size: 16px;
    }

    .lesson-card p {
      font-size: 14px;
      opacity: 0.9;
      margin: 6px 0;
      margin-bottom: 12px;
      line-height: 1;
    }

    .start-btn {
      margin-top: 6px;
      padding: 6px 12px;
      background: #fff;
      color: #8b5cf6;
      border-radius: 12px;
      font-weight: bold;
      text-decoration: none;
      font-size: 13px;
    }

    .judul-section {
      margin-top: -40px;   /* Atur jarak dari atas */
      margin-bottom: 50px; /* Atur jarak dari bawah */
    }

    .python-class-container {
      display: block;
      width: 100%;
      max-width: 900px;
      margin: 50px auto;
      padding: 20px;
      background: #f9fafb;
      border-radius: 40px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
      z-index: 1;
      position: relative;
    }

    .python-class-container summary:hover {
      background: linear-gradient(135deg, #6366f1, #a78bfa);
      transform: scale(1.02);
    }

    .lesson-card.locked {
      background: repeating-linear-gradient(45deg, #9ca3af, #9ca3af 10px, #6b7280 10px, #6b7280 20px);
      color: white;
      text-align: center;
      padding: 40px;
      border-radius: 20px;
      font-weight: bold;
      font-size: 20px;
    }

    /* Lesson Details Styling */
    .lesson-details {
      display: none;
      margin-top: 10px;
      background: linear-gradient(to right, #6366f1, #8b5cf6);
      border-radius: 20px;
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
      padding: 20px;
      color: white;
      font-size: 14px;
      pointer-events: none;
    }
    .lesson-details a,
    .lesson-details .lesson-card {
      pointer-events: auto;
    }
    .lesson-details ul {
      list-style-type: disc;
      padding-left: 20px;
    }
    .lesson-details li {
      margin-bottom: 6px;
    }

    /* Mini lesson cards for module toggle */
    .lesson-card.mini {
      position: relative;
      width: 280px;
      height: 180px;
      font-size: 14px;
      padding: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      border-radius: 20px;
      background: linear-gradient(to right, #6366f1, #8b5cf6);
      color: white;
      text-align: center;
      cursor: pointer;
    }
    .lesson-card.mini:hover {
      transform: scale(1.03);
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    }
    .lesson-card.mini h3 {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      margin: 0;
      line-height: 1.4;
    }
    .lesson-cards-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 20px;
      gap: 10px;
    }

    /* Center the module group container */
    .module-group {
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .lesson-cards-container.active {
      display: flex;
      margin-top: 20px;
    }

    /* --- Game Map Section --- */
    #game-map {
      position: relative;
      /* Remove fixed aspect-ratio and max-height/min-height for scrollable full map */
    }
    .map-container {
      position: relative;
      width: 100%;
      height: 100%;
      max-width: 100%;
      border-radius: 20px;
      overflow: hidden;
    }
    .world-map {
      width: 100%;
      height: auto;
      display: block;
    }
    .map-node {
      position:absolute; transform:translate(-50%,-50%);
      z-index:2; cursor:pointer; text-align:center;
    }
    .level-node.lesson {
      position: absolute;
      width: 40px;
      height: 40px;
      transform: translate(-50%, -50%);
      z-index: 9999;
    }
    .level-node.lesson img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    .map-node .node-icon {
      width:52px; height:52px;
      background:#fff; border-radius:18px;
      box-shadow:0 2px 10px #aaa6;
      margin-bottom:5px; border:3px solid #a5b4fc;
    }
    .map-node span {
      display:inline-block; margin-top:2px;
      background:#6366f1d1; color:#fff; padding:4px 14px;
      border-radius:12px; font-size:13px; font-weight:700; letter-spacing:0.5px;
      box-shadow:0 2px 6px #0001;
    }
    .map-node:hover { transform:translate(-50%,-50%) scale(1.08);}
    /* Cloud Animation Styles */
    .cloud {
      position: absolute;
      background-image: url('/elearn/img/decor/cloud.png');
      background-size: contain;
      background-repeat: no-repeat;
      width: 200px;
      height: 120px;
      opacity: 0.5;
      z-index: 2;
      animation: floatCloud linear infinite;
    }
    .cloud-1 {
      top: 10%;
      left: -250px;
      animation-duration: 60s;
    }
    .cloud-2 {
      top: 30%;
      left: -300px;
      animation-duration: 90s;
    }
    .cloud-3 {
      top: 60%;
      left: -220px;
      animation-duration: 75s;
    }
    @keyframes floatCloud {
      0% { transform: translateX(0); }
      100% { transform: translateX(200vw); }
    }
    @media(max-width:900px){
      #game-map{aspect-ratio:10/16;}
      .map-node .node-icon{width:34px;height:34px;}
    }
    /* Animated Arrow for Level Flow */
    .arrow-flow {
      position: absolute;
      width: 30px;
      height: 30px;
      background-image: url('/elearn/img/decor/arrow.png');
      background-size: contain;
      background-repeat: no-repeat;
      z-index: 3;
      animation: none !important;
    }
    /* Lock and Badge Nodes */
    .lock-node {
      width: 40px;
      height: 40px;
      background-image: url('/elearn/img/icon/icon-lock.png');
      background-size: contain;
      background-repeat: no-repeat;
      position: absolute;
      z-index: 3;
    }
    .badge-node {
      width: 40px;
      height: 40px;
      background-image: url('/elearn/img/icon/icon-badge.png');
      background-size: contain;
      background-repeat: no-repeat;
      position: absolute;
      z-index: 3;
      animation: floatBadge 2.5s ease-in-out infinite;
    }
    @keyframes floatBadge {
      0% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
      100% { transform: translateY(0); }
    }

    /* Responsiveness */
    @media (max-width: 768px) {
      .page-container {
        flex-direction: column;
        height: auto;
        width: calc(100% - 20px);
        margin: 10px;
      }
      .sidebar,
      .panel-ungu,
      .main-content {
        width: 100%;
        left: 0;
        position: relative;
        height: auto;
        min-width: 0 !important;
        max-width: 100% !important;
        overflow-y: auto !important;
      }
      .header {
        flex-direction: column;
        gap: 10px;
      }
      .status-box {
        flex-wrap: wrap;
      }
      .game-style-cards {
        justify-content: center;
      }
      .lesson-card {
        width: 100%;
        height: auto;
      }
      .lesson-details {
        width: 100%;
        box-sizing: border-box;
      }
    }
</style>
  <style>
    .world-map:hover,
    .world-map {
      cursor: url('/elearn/img/decor/arrow.png') 16 16, pointer !important;
    }
</style>
  <!-- Firebase App & Auth SDKs (compat) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBVO4ajDwkbcTGL33SVMxIoev4veB8itgI",
      authDomain: "queens-academy-icoding.firebaseapp.com",
      projectId: "queens-academy-icoding",
      storageBucket: "queens-academy-icoding.appspot.com",
      messagingSenderId: "1048549258959",
      appId: "1:1048549258959:web:f8dc1c104bb170d7ff69ba",
      measurementId: "G-RJCXM1YL7E"
    };
    firebase.initializeApp(firebaseConfig);
  </script>
</head>
<body>
  <div class="page-container">
    <!-- Sidebar Kiri akan dimuat secara dinamis -->
    <div id="sidebar-container"></div>

    <!-- Konten Tengah (Panel Ungu / Neon) akan dimuat secara dinamis -->
    <div id="panel-profile-container"></div>

    <!-- Konten Kanan (Utama) -->
    <div class="main-content">
      <div class="header">
        <h1>Hello, <span id="namaMurid">...</span>! 👋</h1>
        <div class="status-box">
          <div data-icon="⭐">Coin: 150</div>
          <div data-icon="🏅">Badge: 3</div>
        </div>
      </div>

      <section id="game-map" class="map-container" style="width:100vw; height:100vh; background:#e0e7ff; border-radius:40px; position:relative;">
        <!-- World Map Image -->
        <img src="/elearn/img/map/worldmap2.jpg" alt="World Map" class="world-map">
        <!-- Cloud Animations -->
        <div class="cloud cloud-1"></div>
        <div class="cloud cloud-2"></div>
        <div class="cloud cloud-3"></div>
        <!-- Animated Arrow Follows Path -->
        <div class="arrow-flow"></div>
        <!-- LEVEL NODES (zig-zag vertical layout dummy) -->
        <div class="map-node" style="left:27%;top:15%;" data-lesson="CA1L1"><img src="/elearn/img/map/icon-start.png" class="node-icon"/><span>CA1L1</span></div>
        <div class="map-node" style="left:38%;top:19%;" data-lesson="CA1L2"><img src="/elearn/img/map/icon-lesson.png" class="node-icon"/><span>CA1L2</span></div>
        <div class="map-node" style="left:72%;top:19%;" data-lesson="KC1L1"><img src="/elearn/img/map/icon-lesson.png" class="node-icon"/><span>KC1L1</span></div>
        <div class="map-node" style="left:88%;top:55%;" data-lesson="VP1L1"><img src="/elearn/img/map/icon-lesson.png" class="node-icon"/><span>VP1L1</span></div>
        <div class="map-node" style="left:56.6%;top:40%;" data-lesson="M1L1"><img src="/elearn/img/map/icon-boss.png" class="node-icon"/><span>M1L1</span></div>
        <div class="map-node" style="left:57%;top:32%;" data-lesson="Finish"><img src="/elearn/img/map/icon-finish.png" class="node-icon"/><span>Finish</span></div>
        <!-- Visual Lock and Badge on Map Path -->
        <div class="map-node lock-node" style="left:70%;top:16%;"></div>
        <div class="map-node badge-node" style="left:50%;top:31%;"></div>
        <!-- LEVEL NODES DUMMY (15 level nodes, campuran sebaran) -->
        <div class="map-node" style="top:20%;left:50%;" data-lesson="DUMMY1">
          <img src="/elearn/img/map/icon-lesson.png" class="node-icon"/>
          <span>CA1L3</span>
        </div>
        <div class="map-node" style="top:20%;left:60%;" data-lesson="DUMMY2">
          <img src="/elearn/img/map/icon-lesson.png" class="node-icon"/>
          <span>CA1L4</span>
        </div>
        <div class="map-node" style="top:33%;left:72%;" data-lesson="DUMMY3">
          <img src="/elearn/img/map/icon-lesson.png" class="node-icon"/>
          <span>KC1L2</span>
        </div>
        <div class="map-node" style="top:43%;left:78%;" data-lesson="DUMMY4">
          <img src="/elearn/img/map/icon-lesson.png" class="node-icon"/>
          <span>KC1L3</span>
        </div>
        <div class="map-node" style="top:73%;left:78%;" data-lesson="DUMMY5">
          <img src="/elearn/img/map/icon-lesson.png" class="node-icon"/>
          <span>DUMMY5</span>
        </div>
        <div class="map-node" style="top:80%;left:68%;" data-lesson="DUMMY6">
          <img src="/elearn/img/map/icon-lesson.png" class="node-icon"/>
          <span>DUMMY6</span>
        </div>
        <div class="map-node" style="top:49%;left:70%;" data-lesson="DUMMY7">
          <img src="/elearn/img/map/icon-lesson.png" class="node-icon"/>
          <span>DUMMY7</span>
        </div>
        <div class="map-node" style="top:49%;left:43%;" data-lesson="DUMMY8">
          <img src="/elearn/img/map/icon-lesson.png" class="node-icon"/>
          <span>DUMMY8</span>
        </div>
        <div class="map-node" style="top:63%;left:55%;" data-lesson="DUMMY9">
          <img src="/elearn/img/map/icon-lesson.png" class="node-icon"/>
          <span>DUMMY9</span>
        </div>
        <div class="map-node" style="top:80%;left:55%;" data-lesson="DUMMY10">
          <img src="/elearn/img/map/icon-lesson.png" class="node-icon"/>
          <span>DUMMY10</span>
        </div>
        <div class="map-node" style="top:77%;left:30%;" data-lesson="DUMMY11">
          <img src="/elearn/img/map/icon-lesson.png" class="node-icon"/>
          <span>DUMMY11</span>
        </div>
        <div class="map-node" style="top:79%;left:8%;" data-lesson="DUMMY12">
          <img src="/elearn/img/map/icon-lesson.png" class="node-icon"/>
          <span>DUMMY12</span>
        </div>
        <div class="map-node" style="top:54%;left:18%;" data-lesson="DUMMY13">
          <img src="/elearn/img/map/icon-lesson.png" class="node-icon"/>
          <span>DUMMY13</span>
        </div>
        <div class="map-node" style="top:39%;left:30%;" data-lesson="DUMMY14">
          <img src="/elearn/img/map/icon-lesson.png" class="node-icon"/>
          <span>DUMMY14</span>
        </div>
        <div class="map-node" style="top:94%;left:58%;" data-lesson="DUMMY15">
          <img src="/elearn/img/map/icon-lesson.png" class="node-icon"/>
          <span>DUMMY15</span>
        </div>
        <!-- Zig-zag SVG path lines -->
        <svg style="position:absolute;left:0;top:0;width:100%;height:100%;z-index:0;pointer-events:none;">
          <path d="M10% 6% C 25% 8%, 25% 10%, 40% 11%" stroke="#6366f1" stroke-width="6" stroke-linecap="round" fill="none" stroke-dasharray="8 10"/>
          <path d="M40% 11% C 55% 13%, 55% 15%, 70% 16%" stroke="#6366f1" stroke-width="6" stroke-linecap="round" fill="none" stroke-dasharray="8 10"/>
          <path d="M70% 16% C 55% 18%, 55% 20%, 40% 21%" stroke="#6366f1" stroke-width="6" stroke-linecap="round" fill="none" stroke-dasharray="8 10"/>
          <path d="M40% 21% C 25% 23%, 25% 25%, 10% 26%" stroke="#6366f1" stroke-width="6" stroke-linecap="round" fill="none" stroke-dasharray="8 10"/>
          <path d="M10% 26% C 30% 28%, 30% 30%, 50% 31%" stroke="#6366f1" stroke-width="6" stroke-linecap="round" fill="none" stroke-dasharray="8 10"/>
        </svg>
      </section>
      <h2 class="judul-section">🚀 Learning Journey</h2>
      <div class="game-style-cards">
        <!-- Worksheet module-group (removed, now inside Calistung) -->
        <!-- Calistung module-group -->
        <div class="module-group" style="margin-bottom: 20px;">
          <div class="lesson-card" style="background: linear-gradient(to right, #ec4899, #f472b6);">
            <span class="lesson-number">CA L1</span>
            <h3>Calistung</h3>
            <p>CA L1: Belajar Membaca, Menulis, Berhitung</p>
            <a href="#" class="start-btn">Lihat Modul</a>
          </div>
          <div class="lesson-cards-container" style="display:none;">
            <div id="container-CAL1"></div>
            <a href="/elearn/calistung/CA1L1.html" style="text-decoration:none;">
              <div class="lesson-card mini">
                <span class="lesson-number">CA1L1</span>
                <h3>CA1 Level 1</h3>
              </div>
            </a>
            <a href="/elearn/calistung/CA1L2.html" style="text-decoration:none;">
              <div class="lesson-card mini" style="background: linear-gradient(to right, #f472b6, #ec4899);">
                <span class="lesson-number">CA1L2</span>
                <h3>CA1 Level 2</h3>
              </div>
            </a>
            <div id="container-CAL2"></div>
            <div id="container-CAL3"></div>
            <!-- Worksheet module-group now inside Calistung -->
            <div class="module-group" style="margin-bottom: 20px;">
              <div class="lesson-card mini" onclick="toggleWorksheet()" style="background: linear-gradient(to right, #f472b6, #fb7185); cursor:pointer;">
                <span class="lesson-number">WS</span>
                <h3>Worksheet</h3>
              </div>
              <div class="lesson-cards-container" id="worksheet-container" style="display:none; margin-top: 20px;">
                <a href="/elearn/game/al1.html" style="text-decoration:none;">
                  <div class="lesson-card mini"><span class="lesson-number">WS</span><h3>Alphabet Learning 1</h3></div>
                </a>
                <a href="/elearn/game/alp2.html" style="text-decoration:none;">
                  <div class="lesson-card mini"><span class="lesson-number">WS</span><h3>Alphabet Practice 2</h3></div>
                </a>
                <a href="/elearn/game/mg1.html" style="text-decoration:none;">
                  <div class="lesson-card mini"><span class="lesson-number">WS</span><h3>Math Game 1</h3></div>
                </a>
                <a href="/elearn/game/mg2.html" style="text-decoration:none;">
                  <div class="lesson-card mini"><span class="lesson-number">WS</span><h3>Math Game 2</h3></div>
                </a>
                <a href="/elearn/game/mg3.html" style="text-decoration:none;">
                  <div class="lesson-card mini"><span class="lesson-number">WS</span><h3>Math Game 3</h3></div>
                </a>
                <a href="/elearn/game/mg4.html" style="text-decoration:none;">
                  <div class="lesson-card mini"><span class="lesson-number">WS</span><h3>Math Game 4</h3></div>
                </a>
                <a href="/elearn/game/mg5.html" style="text-decoration:none;">
                  <div class="lesson-card mini"><span class="lesson-number">WS</span><h3>Math Game 5</h3></div>
                </a>
                <a href="/elearn/game/sh1.html" style="text-decoration:none;">
                  <div class="lesson-card mini"><span class="lesson-number">WS</span><h3>Shape Hunt 1</h3></div>
                </a>
                <a href="/elearn/game/sh2.html" style="text-decoration:none;">
                  <div class="lesson-card mini"><span class="lesson-number">WS</span><h3>Shape Hunt 2</h3></div>
                </a>
                <a href="/elearn/game/sh3.html" style="text-decoration:none;">
                  <div class="lesson-card mini"><span class="lesson-number">WS</span><h3>Shape Hunt 3</h3></div>
                </a>
                <a href="/elearn/game/sh4.html" style="text-decoration:none;">
                  <div class="lesson-card mini"><span class="lesson-number">WS</span><h3>Shape Hunt 4</h3></div>
                </a>
                <a href="/elearn/game/sh5.html" style="text-decoration:none;">
                  <div class="lesson-card mini"><span class="lesson-number">WS</span><h3>Shape Hunt 5</h3></div>
                </a>
                <a href="/elearn/game/sh6.html" style="text-decoration:none;">
                  <div class="lesson-card mini"><span class="lesson-number">WS</span><h3>Shape Hunt 6</h3></div>
                </a>
                <a href="/elearn/game/sh7.html" style="text-decoration:none;">
                  <div class="lesson-card mini"><span class="lesson-number">WS</span><h3>Shape Hunt 7</h3></div>
                </a>
              </div>
            </div>
          </div>
        </div>
        <div class="module-group">
          <div class="lesson-card" style="background: linear-gradient(to right, #f59e0b, #fcd34d);">
            <span class="lesson-number">KC L1</span>
            <h3>Kinder Coder</h3>
            <p>KC L1: Keseimbangan Edukasi Digital dan Kreativitas</p>
            <a href="#" class="start-btn">Lihat Modul</a>
          </div>
          <div class="lesson-cards-container" style="display:none;">
            <div id="container-DLDC1"></div>
            <div id="container-DLDC2"></div>
            <div id="container-DLDC3"></div>
          </div>
        </div>
        <div class="module-group">
          <div class="lesson-card" style="background: linear-gradient(to right, #0ea5e9, #38bdf8);">
            <span class="lesson-number">VP L1</span>
            <h3>Visual Programming</h3>
            <p>VP L1: Belajar Koding dengan Blok Visual</p>
            <a href="#" class="start-btn">Lihat Modul</a>
          </div>
          <div class="lesson-cards-container" style="display:none;">
            <div id="container-VPL1"></div>
            <div id="container-VPL2"></div>
            <div id="container-VPL3"></div>
          </div>
        </div>
        <div class="module-group" style="display:none;">
          <div class="lesson-card" style="background: linear-gradient(to right, #f97316, #fb923c);">
            <span class="lesson-number">DL L1</span>
            <h3>Digital Literacy</h3>
            <p>DL L1: Pengenalan Dunia Digital</p>
            <a href="https://digital-literacy-hmz4.onrender.com/" class="start-btn">Lihat Modul</a>
          </div>
          <div class="lesson-cards-container" style="display:none;">
            <a href="/elearn/DLL1.html" style="text-decoration:none;">
              <div class="lesson-card mini">
                <span class="lesson-number">DL L1</span>
                <h3>Recognizing Digital Devices Around Us</h3>
              </div>
            </a>
            <a href="/elearn/DLL2.html" style="text-decoration:none;">
              <div class="lesson-card mini">
                <span class="lesson-number">DL L2</span>
                <h3>Basic Use of Tablet/Computer: Tap, Drag, and Swipe</h3>
              </div>
            </a>
            <a href="/elearn/DLL3.html" style="text-decoration:none;">
              <div class="lesson-card mini">
                <span class="lesson-number">DL L3</span>
                <h3>Safe and Healthy Screen Time Habits</h3>
              </div>
            </a>
            <a href="/elearn/DLL4.html" style="text-decoration:none;">
              <div class="lesson-card mini">
                <span class="lesson-number">DL L4</span>
                <h3>Exploring Educational Apps Together</h3>
              </div>
            </a>
            <div id="container-DLL5"></div>
          </div>
        </div>
        <div class="module-group" style="display:none;">
          <div class="lesson-card" style="background: linear-gradient(to right, #16a34a, #4ade80);">
            <span class="lesson-number">DC L1</span>
            <h3>Digital Creativity</h3>
            <p>DC L1: Berpikir kreatif dengan teknologi</p>
            <a href="#" class="start-btn">Lihat Modul</a>
          </div>
          <div class="lesson-cards-container" style="display:none;">
            <div id="container-DCL1"></div>
            <div id="container-DCL2"></div>
            <div id="container-DCL3"></div>
            <div id="container-DCL4"></div>
            <div id="container-DCL5"></div>
          </div>
        </div>
        <div class="module-group" style="display:none;">
          <div class="lesson-card" style="background: linear-gradient(to right, #0284c7, #38bdf8);">
            <span class="lesson-number">CC L1</span>
            <h3>Craft & Coding</h3>
            <p>CC L1: Kode sambil berkarya</p>
            <a href="https://queensacademy.id/elearn/craft-coding/index.html" class="start-btn">Lihat Modul</a>
          </div>
          <div class="lesson-cards-container" style="display:none;">
            <div id="container-CCL1"></div>
            <div id="container-CCL2"></div>
            <div id="container-CCL3"></div>
            <div id="container-CCL4"></div>
            <div id="container-CCL5"></div>
          </div>
        </div>
        <div class="module-group" style="display:none;">
          <div class="lesson-card" style="background: linear-gradient(to right, #7c3aed, #c084fc);">
            <span class="lesson-number">GD L1</span>
            <h3>2D Game Development</h3>
            <p>GD L1: Buat game 2D pertama kamu!</p>
            <a href="#" class="start-btn">Lihat Modul</a>
          </div>
          <div class="lesson-cards-container" style="display:none;">
            <a href="/elearn/GDL1.html" style="text-decoration:none;">
              <div class="lesson-card mini">
                <span class="lesson-number">GD L1</span>
                <h3>Understanding Game Characters and Backgrounds</h3>
              </div>
            </a>
            <a href="/elearn/GDL2.html" style="text-decoration:none;">
              <div class="lesson-card mini">
                <span class="lesson-number">GD L2</span>
                <h3>Choosing Sprites and Moving Them with Simple Commands</h3>
              </div>
            </a>
            <div id="container-GDL3"></div>
            <a href="/elearn/GDL4.html" style="text-decoration:none;">
              <div class="lesson-card mini">
                <span class="lesson-number">GD L4</span>
                <h3>Creating a One-Screen Maze Game Using Blocks</h3>
              </div>
            </a>
            <a href="/elearn/GDL5.html" style="text-decoration:none;">
              <div class="lesson-card mini">
                <span class="lesson-number">GD L5</span>
                <h3>Sharing the Game with Family and Friends</h3>
              </div>
            </a>
            <div id="container-GDL4"></div>
          </div>
        </div>
      </div>

      <h2 class="judul-section"></h2>
      <div class="syllabus-section">
        <details class="python-class-container">
          <summary style="background: linear-gradient(135deg, #4f46e5, #8b5cf6); color: white; padding: 16px 24px; border-radius: 24px; cursor: pointer; font-weight: 700; font-size: 20px; margin-bottom: 24px; box-shadow: 0 12px 24px rgba(0,0,0,0.2); height: 180px; display: flex; align-items: center; justify-content: center; letter-spacing: 0.5px; transition: background 0.4s ease, transform 0.2s ease;">
            Python Class
          </summary>
          <div>
            <details>
              <summary style="background:#8b5cf6; color:white; padding:12px 20px; border-radius:16px; cursor:pointer; font-weight:bold; font-size:16px; margin-bottom:10px; box-shadow:0 4px 8px rgba(0,0,0,0.15);">
                Basic Python
              </summary>
              <div class="game-style-cards" style="margin: 40px 0;">
                <a href="/elearn/M1L1.html" style="text-decoration:none;">
                  <div class="lesson-card">
                    <span class="lesson-number">M1 L1</span>
                    <h3>Intro to Python</h3>
                    <p>Introduction to the Python Programming Language</p>
                  </div>
                </a>
                <a href="/elearn/M1L2.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M1 L2</span><h3>Variables</h3><p>Understanding Variables in Python</p></div></a>
                <a href="/elearn/M1L3.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M1 L3</span><h3>Strings</h3><p>Working with String Data Types</p></div></a>
                <a href="/elearn/M1L4.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M1 L4</span><h3>Nested Constructs</h3><p>Simplifying Code with Nested Constructs</p></div></a>
              </div>
            </details>
            <details>
              <summary style="background:#8b5cf6; color:white; padding:12px 20px; border-radius:16px; cursor:pointer; font-weight:bold; font-size:16px; margin-bottom:10px; box-shadow:0 4px 8px rgba(0,0,0,0.15);">
                Control Structures
              </summary>
              <div class="game-style-cards" style="margin: 40px 0;">
                <a href="/elearn/M2L1.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M2 L1</span><h3>Decision Making</h3><p>Making Decisions in Python</p></div></a>
                <a href="/elearn/M2L2.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M2 L2</span><h3>Simplified Decisions</h3><p>Simplifying Decision Making</p></div></a>
                <a href="/elearn/M2L3.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M2 L3</span><h3>Loops</h3><p>Loops in Python</p></div></a>
                <a href="/elearn/M2L4.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M2 L4</span><h3>Adv Loops</h3><p>Advanced Looping in Python</p></div></a>
                <div class="lesson-card"><span class="lesson-number">M2 L5</span><h3>Nested Structures</h3><p>Nested Control Structures</p></div>
              </div>
            </details>
            <details>
              <summary style="background:#8b5cf6; color:white; padding:12px 20px; border-radius:16px; cursor:pointer; font-weight:bold; font-size:16px; margin-bottom:10px; box-shadow:0 4px 8px rgba(0,0,0,0.15);">
                Functions and Modules
              </summary>
              <div class="game-style-cards" style="margin: 40px 0;">
                <a href="/elearn/M3L1.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M3 L1</span><h3>Functions</h3><p>Creating Functions in Python</p></div></a>
                <a href="/elearn/M3L2.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M3 L2</span><h3>Advanced Functions</h3><p>Creating Functions (Advanced Topics)</p></div></a>
                <a href="/elearn/M3L3.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M3 L3</span><h3>Time & Random</h3><p>Working with Time and Random Modules</p></div></a>
                <a href="/elearn/M3L4.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M3 L4</span><h3>Libraries</h3><p>Creating Modules (Libraries) in Python</p></div></a>
                <a href="/elearn/M3L5.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M3 L5</span><h3>Mini Project</h3><p>Combine Functions and Modules</p></div></a>
              </div>
            </details>
            <details>
              <summary style="background:#8b5cf6; color:white; padding:12px 20px; border-radius:16px; cursor:pointer; font-weight:bold; font-size:16px; margin-bottom:10px; box-shadow:0 4px 8px rgba(0,0,0,0.15);">
                Turtle and Math Modules
              </summary>
              <div class="game-style-cards" style="margin: 40px 0;">
                <a href="/elearn/M4L1.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M4 L1</span><h3>Turtle Basics</h3><p>Linear Programming with Turtle Module for Drawing</p></div></a>
                <a href="/elearn/M4L2.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M4 L2</span><h3>Turtle Loops</h3><p>Using Loops in the Turtle Module</p></div></a>
                <div id="container-M4L3"></div>
                <div id="container-M4L4"></div>
              </div>
            </details>
            <details>
              <summary style="background:#8b5cf6; color:white; padding:12px 20px; border-radius:16px; cursor:pointer; font-weight:bold; font-size:16px; margin-bottom:10px; box-shadow:0 4px 8px rgba(0,0,0,0.15);">
                Object-Oriented Programming
              </summary>
              <div class="game-style-cards" style="margin: 40px 0;">
                <div id="container-M5L1"></div>
                <div id="container-M5L2"></div>
                <div id="container-M5L3"></div>
                <div id="container-M5L4"></div>
                <div id="container-M5L5"></div>
                <div id="container-M5L6"></div>
              </div>
            </details>
            <details>
              <summary style="background:#8b5cf6; color:white; padding:12px 20px; border-radius:16px; cursor:pointer; font-weight:bold; font-size:16px; margin-bottom:10px; box-shadow:0 4px 8px rgba(0,0,0,0.15);">
                Creating 2D Games in Python
              </summary>
              <div class="game-style-cards" style="margin: 40px 0;">
                <div class="lesson-card"><span class="lesson-number">M6 L1</span><h3>Game Basics</h3><p>Basics of Game Development in Python</p></div>
                <div class="lesson-card"><span class="lesson-number">M6 L2</span><h3>Events P1</h3><p>Game Dev with Events (Part 1)</p></div>
                <div class="lesson-card"><span class="lesson-number">M6 L3</span><h3>Events P2</h3><p>Game Dev with Events (Part 2)</p></div>
                <div class="lesson-card"><span class="lesson-number">M6 L4</span><h3>Events P3</h3><p>Game Dev with Events (Part 3)</p></div>
                <div class="lesson-card"><span class="lesson-number">M6 L5</span><h3>Build P1</h3><p>Building Game in Python (Part 1)</p></div>
                <div class="lesson-card"><span class="lesson-number">M6 L6</span><h3>Build P2</h3><p>Building Game in Python (Part 2)</p></div>
                <div class="lesson-card"><span class="lesson-number">M6 L7</span><h3>Build P3</h3><p>Building Game in Python (Part 3)</p></div>
              </div>
            </details>
          </div>
        </details>
        <!-- LOCKED/MAINTENANCE CONTAINERS -->
        <details class="python-class-container">
          <summary style="background: linear-gradient(135deg, #4f46e5, #8b5cf6); color: white; padding: 16px 24px; border-radius: 24px; cursor: pointer; font-weight: 700; font-size: 20px; margin-bottom: 24px; box-shadow: 0 12px 24px rgba(0,0,0,0.2); height: 180px; display: flex; align-items: center; justify-content: center; letter-spacing: 0.5px; transition: background 0.4s ease, transform 0.2s ease;">
            Website Development
          </summary>
          <div>
            <div class="lesson-card locked">🚧 Under Maintenance</div>
          </div>
        </details>
        <details class="python-class-container">
          <summary style="background: linear-gradient(135deg, #4f46e5, #8b5cf6); color: white; padding: 16px 24px; border-radius: 24px; cursor: pointer; font-weight: 700; font-size: 20px; margin-bottom: 24px; box-shadow: 0 12px 24px rgba(0,0,0,0.2); height: 180px; display: flex; align-items: center; justify-content: center; letter-spacing: 0.5px; transition: background 0.4s ease, transform 0.2s ease;">
            Mobile Apps Development
          </summary>
          <div>
            <div class="lesson-card locked">🚧 Under Maintenance</div>
          </div>
        </details>
        <details class="python-class-container">
          <summary style="background: linear-gradient(135deg, #4f46e5, #8b5cf6); color: white; padding: 16px 24px; border-radius: 24px; cursor: pointer; font-weight: 700; font-size: 20px; margin-bottom: 24px; box-shadow: 0 12px 24px rgba(0,0,0,0.2); height: 180px; display: flex; align-items: center; justify-content: center; letter-spacing: 0.5px; transition: background 0.4s ease, transform 0.2s ease;">
            Robotic Class
          </summary>
          <div>
            <div class="lesson-card locked">🚧 Under Maintenance</div>
          </div>
        </details>
        <details class="python-class-container">
          <summary style="background: linear-gradient(135deg, #4f46e5, #8b5cf6); color: white; padding: 16px 24px; border-radius: 24px; cursor: pointer; font-weight: 700; font-size: 20px; margin-bottom: 24px; box-shadow: 0 12px 24px rgba(0,0,0,0.2); height: 180px; display: flex; align-items: center; justify-content: center; letter-spacing: 0.5px; transition: background 0.4s ease, transform 0.2s ease;">
            Artificial Intelligence
          </summary>
          <div>
            <div class="lesson-card locked">🚧 Under Maintenance</div>
          </div>
        </details>
      </div>
    </div>
  </div>

  <script src="userInfo.js"></script>
  <script src="sidebar.js"></script>
  <script>
    // Cek apakah user sudah login, jika tidak redirect
    const user = getUserInfo();
    // Allow akses untuk murid, guru, dan moderator
    if (!user || (user.role !== "murid" && user.role !== "guru" && user.role !== "moderator")) {
      alert("❌ Akses tidak sah. Silakan login ulang.");
      window.location.href = "/elearn/login-elearning.html";
    } else {
      document.getElementById('namaMurid').textContent = user.nama;
      if (user.role === 'guru') {
        const dashLink = document.querySelector('a[href="https://verse.queensacademy.id/"]');
        if (dashLink) dashLink.style.display = 'none';
      }
    }
    // fungsi sidebar tersedia di sidebar.js
  </script>
  <script>
    function toggleWorksheet() {
      const cont = document.getElementById('worksheet-container');
      if (cont) {
        cont.style.display = (cont.style.display === 'none') ? 'flex' : 'none';
      }
    }
  </script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-M4L2');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/M4L2.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M4 L2</span><h3>Turtle Loops</h3><p>Using Loops in the Turtle Module</p></div></a>';
    }
  });
</script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cont = document.getElementById('container-M4L5');
      if (cont) {
        cont.innerHTML = '<a href="/elearn/M4L5.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M4 L5</span><h3>Mini Game Builder</h3><p>Membuat Desa Interaktif dengan Turtle</p></div></a>';
      }
    });
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cont = document.getElementById('container-M4L3');
      if (cont) {
        cont.innerHTML = '<a href="/elearn/M4L3.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M4 L3</span><h3>Turtle Decisions</h3><p>Using Decision Making in the Turtle Module</p></div></a>';
      }
    });
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cont = document.getElementById('container-M4L4');
      if (cont) {
        cont.innerHTML = '<a href="/elearn/M4L4.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M4 L4</span><h3>Drawing Project</h3><p>“Village Infrastructure” Using the Turtle Module</p></div></a>';
      }
    });
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cont = document.getElementById('container-M5L1');
      if (cont) {
        cont.innerHTML = '<a href="/elearn/M5L1.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M5 L1</span><h3>Objects</h3><p>Objects and Methods in Python</p></div></a>';
      }
    });
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cont = document.getElementById('container-M5L2');
      if (cont) {
        cont.innerHTML = '<a href="/elearn/M5L2.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M5 L2</span><h3>Events</h3><p>Events in Python</p></div></a>';
      }
    });
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cont = document.getElementById('container-M5L3');
      if (cont) {
        cont.innerHTML = '<a href="/elearn/M5L3.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M5 L3</span><h3>Classes</h3><p>Classes in Python</p></div></a>';
      }
    });
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cont = document.getElementById('container-M5L4');
      if (cont) {
        cont.innerHTML = '<a href="/elearn/M5L4.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M5 L4</span><h3>Coloring</h3><p>Coloring Simple Objects</p></div></a>';
      }
    });
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cont = document.getElementById('container-M5L5');
      if (cont) {
        cont.innerHTML = '<a href="/elearn/M5L5.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M5 L5</span><h3>Inheritance</h3><p>Inheritance in Python</p></div></a>';
      }
    });
  </script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-M5L5');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/M5L5.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M5 L5</span><h3>Inheritance</h3><p>Inheritance in Python</p></div></a>';
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-M5L6');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/M5L6.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">M5 L6</span><h3>Advanced Inheritance</h3><p>Inheritance (Advanced Topics)</p></div></a>';
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-GDL1');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/GDL1.html" style="text-decoration:none;"><div class="lesson-card mini"><span class="lesson-number">GD L1</span><h3>Understanding Game Characters and Backgrounds</h3></div></a>';
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-DLL2');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/DLL2.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">DL L2</span><h3>Basic Use of Tablet/Computer: Tap, Drag, and Swipe</h3></div></a>';
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-DLL3');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/DLL3.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">DL L3</span><h3>Safe and Healthy Screen Time Habits</h3></div></a>';
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-DLL4');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/DLL4.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">DL L4</span><h3>Exploring Educational Apps Together</h3></div></a>';
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-DCL2');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/DCL2.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">DC L2</span><h3>Mewarnai Gambar Digital dengan Alat Pewarna</h3></div></a>';
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-DCL3');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/DCL3.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">DC L3</span><h3>Creating Stickers or Emojis</h3></div></a>';
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-DCL4');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/DCL4.html" style="text-decoration:none;"><div class="lesson-card mini"><span class="lesson-number">DC L4</span><h3>Arranging Digital Collages from Photos</h3></div></a>';
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-DCL1');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/DCL1.html" style="text-decoration:none;"><div class="lesson-card mini"><span class="lesson-number">DC L1</span><h3>Drawing Simple Shapes on a Digital Canvas</h3></div></a>';
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-DCL5');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/DCL5.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">DC L5</span><h3>Making a Short Animated Story with Drag-and-Drop Tools</h3></div></a>';
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-DLL5');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/DLL5.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">DL L5</span><h3>Understanding Online vs Offline</h3></div></a>';
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-GDL3');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/GDL3.html" style="text-decoration:none;"><div class="lesson-card mini"><span class="lesson-number">GD L3</span><h3>Adding Sounds and Reactions (e.g., \x27jump\x27 makes sound)</h3></div></a>';
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-CCL5');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/CCL5.html" style="text-decoration:none;"><div class="lesson-card mini"><span class="lesson-number">CC L5</span><h3>Craft Showcase: Presenting Digital and Physical Creations</h3></div></a>';
     }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-CCL4');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/CCL4.html" style="text-decoration:none;"><div class="lesson-card mini"><span class="lesson-number">CC L4</span><h3>Connecting Crafts with Simple Coding (e.g., card with QR code)</h3></div></a>';
     }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-CCL3');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/CCL3.html" style="text-decoration:none;"><div class="lesson-card mini"><span class="lesson-number">CC L3</span><h3>Introducing Commands: Move, Turn, Repeat</h3></div></a>';
     }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-CCL2');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/CCL2.html" style="text-decoration:none;"><div class="lesson-card"><span class="lesson-number">CC L2</span><h3>Building Patterns with Digital Blocks (e.g., Scratch Jr)</h3></div></a>';
     }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-CCL1');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/CCL1.html" style="text-decoration:none;"><div class="lesson-card mini"><span class="lesson-number">CC L1</span><h3>Making Paper Crafts Based on Digital Templates</h3></div></a>';
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-GDL5');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/GDL5.html" style="text-decoration:none;"><div class="lesson-card mini"><span class="lesson-number">GD L5</span><h3>Sharing the Game with Family and Friends</h3></div></a>';
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cont = document.getElementById('container-GDL4');
    if (cont) {
      cont.innerHTML = '<a href="/elearn/GDL4.html" style="text-decoration:none;"><div class="lesson-card mini"><span class="lesson-number">GD L4</span><h3>Creating a One-Screen Maze Game Using Blocks</h3></div></a>';
    }
  });
</script>
<script src="/elearn/panel-profile.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      fetch('/elearn/panel-profile.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById('panel-profile-container').innerHTML = data;
          if (typeof initPanelProfile === 'function') initPanelProfile();
        })
        .catch(error => console.error('Failed to load panel-profile:', error));
    });
  </script>
</script>
</script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.lesson-card.mini').forEach(card => {
        card.addEventListener('click', (e) => {
          const dest = card.getAttribute('onclick');
          if (dest) {
            const match = dest.match(/window\.location\s*=\s*['"]([^'"]+)['"]/);
            if (match && match[1]) {
              window.location = match[1];
            }
          }
        });
      });
    });
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.start-btn').forEach(btn => {
        btn.addEventListener('click', e => {
          const href = btn.getAttribute('href');
          if (href && href !== '#') {
            window.location = href;
            return;
          }
          e.preventDefault();
          const container = btn.closest('.lesson-card').nextElementSibling;
          if (container && container.classList.contains('lesson-cards-container')) {
            container.style.display = container.style.display === 'none' ? 'flex' : 'none';
          }
        });
      });
    });
  </script>
  <script>
  document.addEventListener("DOMContentLoaded", () => {
    // Ambil semua node di map urut sesuai urutan HTML
    const nodes = Array.from(document.querySelectorAll('.map-node')).filter(n => n.offsetParent !== null);

    // Debug log!
    console.log('Keliling semua node:', nodes.map(n => n?.dataset.lesson));
    if (nodes.length < 2) {
      alert('Node kurang dari 2! Arrow tidak bisa bergerak');
      return;
    }
    const arrow = document.querySelector('.arrow-flow');
    if (!arrow) {
      alert('Elemen .arrow-flow tidak ditemukan!');
      return;
    }

    function getNodePos(node) {
      const rect = node.getBoundingClientRect();
      const parentRect = node.parentElement.getBoundingClientRect();
      return {
        x: rect.left + rect.width / 2 - parentRect.left,
        y: rect.top + rect.height / 2 - parentRect.top
      };
    }

    let current = 0;
    function moveArrow() {
      const from = getNodePos(nodes[current]);
      const to = getNodePos(nodes[(current + 1) % nodes.length]);
      arrow.style.left = from.x + "px";
      arrow.style.top = from.y + "px";
      let progress = 0;
      function animate() {
        progress += 0.015;
        if (progress > 1) progress = 1;
        const x = from.x + (to.x - from.x) * progress;
        const y = from.y + (to.y - from.y) * progress;
        arrow.style.left = x + "px";
        arrow.style.top = y + "px";
        if (progress < 1) {
          requestAnimationFrame(animate);
        } else {
          current = (current + 1) % nodes.length;
          setTimeout(moveArrow, 400);
        }
      }
      animate();
    }
    moveArrow();
  });
  </script>
  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const img = document.querySelector('.world-map');
    if (img) {
      img.addEventListener('mouseenter', () => {
        img.style.cursor = "url('/elearn/img/decor/arrow.png') 16 16, pointer";
      });
      img.addEventListener('mouseleave', () => {
        img.style.cursor = "";
      });
    }
  });
  </script>
</body>
<script>
  // mapping kode lesson ke url lesson
  const lessonUrlMap = {
    "CA1L1": "/elearn/calistung/CA1L1.html",
    "CA1L2": "/elearn/calistung/CA1L2.html",
    "KC1L1": "/elearn/kindercoder/KC1L1.html",
    "VP1L1": "/elearn/visualprogramming/VP1L1.html",
    "M1L1": "/elearn/M1L1.html",
    "Finish": "/elearn/final-stage.html"
  };
  document.querySelectorAll('.map-node').forEach(node=>{
    node.onclick=()=>{
      const lesson = node.dataset.lesson;
      if(lessonUrlMap[lesson]) window.location=lessonUrlMap[lesson];
      else alert('Lesson belum tersedia, sabar dulu ya!');
    }
  });
</script>
</html>
