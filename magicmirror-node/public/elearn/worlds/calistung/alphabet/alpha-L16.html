

<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>J3 – Memecahkan Kode</title>
  <link rel="stylesheet" href="theme.css" />
  <script defer src="theme.js"></script>
  <style>
    :root{
      --green:#45b058;
      --dark:#222;
      --gray:#e9eef3;
      --white:#fff;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family: ui-rounded, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji"; color:var(--dark); background:#f8fafb;
    }
    header{
      padding:18px 16px; background:var(--green); color:white; text-align:center;
    }
    header h1{margin:0; font-size:clamp(22px,4vw,40px); letter-spacing:1px}
    header p{margin:.35rem 0 0; opacity:.95; font-weight:600}

    .container{max-width:1000px; margin:18px auto 64px; padding:0 16px}

    .key{
      width:100%; border-collapse:separate; border-spacing:0; overflow:hidden; border-radius:10px; box-shadow:0 2px 8px rgba(0,0,0,.06); margin:8px 0 18px; background:white;
    }
    .key thead th{
      background:var(--green); color:white; padding:8px; font-size:14px;
    }
    .key td, .key th{ text-align:center; padding:8px 6px; }
    .key tbody tr:nth-child(odd) td{ background:#f5fbf6 }

    .row{ 
      display:grid; 
      grid-template-rows:56px 56px; /* baris 1 = soal angka, baris 2 = jawaban */
      gap:8px; 
      align-items:stretch; 
      margin:18px 0; 
      overflow-x:auto; 
      padding-bottom:4px;
    }
    /* container angka & jawaban sekarang digabung dalam .row, kelas di bawah dipertahankan
       agar tidak mengganggu style box */
    .numbers, .inputs{ display:contents; }

    .numBox, .inBox{
      display:flex; align-items:center; justify-content:center; background:white; border:2px solid #d9e3ea; border-radius:8px; box-shadow:0 1px 3px rgba(0,0,0,.05);
      font-weight:700;
    }
    .numBox{ font-size:18px; }
    .inBox input{
      width:100%; height:100%; text-transform:uppercase; text-align:center; font-size:20px; font-weight:800; border:0; outline:0; background:transparent; letter-spacing:1px;
    }

    .controls{ display:flex; flex-wrap:wrap; gap:10px; margin:22px 0 8px }
    .btn{
      border:0; background:var(--dark); color:white; padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:700; box-shadow:0 2px 6px rgba(0,0,0,.15);
    }
    .btn.secondary{ background:#4b5563 }
    .btn.success{ background:#1ea672 }
    .btn.warn{ background:#d97706 }

    .result{ margin-top:8px; font-weight:700 }
    .tag{display:inline-block; padding:4px 8px; border-radius:999px; font-size:12px; margin-left:8px}
    .tag.ok{ background:#e8fff5; color:#0f8b56; border:1px solid #b6f2d4 }
    .tag.no{ background:#fff3f0; color:#9a3412; border:1px solid #ffd5cc }

    .credit{opacity:.7; font-size:12px; text-align:center; margin-top:10px}

    @media (max-width:720px){
      .row{ grid-template-columns:1fr; }
    }
  </style>
<style>
    .finish-bar { position: fixed; right: 16px; bottom: 16px; z-index: 1000; }
    #btnSelesai { background: #22c55e; color: #fff; border: none; cursor: pointer; padding: 12px 16px; border-radius: 12px; font-weight: 700; font-size: 16px; box-shadow: 0 6px 18px rgba(16, 185, 129, 0.4); }
    #btnSelesai:hover { filter: brightness(1.05); }
    #btnSelesai:active { transform: translateY(1px); }
    @media (max-width: 480px) {
      #btnSelesai { padding: 10px 14px; font-size: 15px; }
    }
  </style>

  <link rel="stylesheet" href="/elearn/worlds/calistung/buttons.css" />
</head>
<body class="alphabet-game">
  <header>
    <h1>MEMECAHKAN KODE</h1>
    <p>Gunakan kunci di bawah ini untuk membantu memecahkan kodenya!</p>
  </header>

  <div class="container">
    <!-- Kunci huruf = angka -->
    <table class="key" aria-label="kunci huruf angka">
      <thead>
        <tr>
          <th colspan="13">a–m</th>
          <th colspan="13">n–z</th>
        </tr>
      </thead>
      <tbody>
        <tr id="row-letters-a"></tr>
        <tr id="row-numbers-a"></tr>
        <tr id="row-letters-n"></tr>
        <tr id="row-numbers-n"></tr>
      </tbody>
    </table>

    <div class="controls">
      <button class="btn" id="btnShuffle">Acak Soal</button>
      <button class="btn secondary" id="btnReset">Reset</button>
      <button class="btn success" id="btnCheck">Periksa Jawaban</button>
    </div>

    <div id="game"></div>

    <p class="credit">© Queen's Academy – J3</p>
  </div>

<div class="finish-bar"><button id="btnSelesai" type="button">Selesai</button></div>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script src="/elearn/manifest-lessons.js"></script>
<script src="/elearn/userInfo.js"></script>
<script src="/elearn/common/worksheet-submit.js"></script>
<script>
  window.WORKSHEET_DEBUG = true;
  const info = (typeof getUserInfo === "function") ? getUserInfo() : {};
  initWorksheetSubmit({
    muridUid: info.uid || "",
    cid: info.cid || "",
    namaAnak: info.nama || "",
    role: (info.role || "").toLowerCase()
  });
</script>
</body>
</html>